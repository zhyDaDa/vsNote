---
title: L10_枚举和结构___2022-12-28
date: 2022-12-28T22:11:28+08:00
tags:
    - C语言学习笔记
    - study
---

目录
- [枚举](#枚举)
  - [引入](#引入)
  - [概念](#概念)
  - [语法](#语法)
  - [说明](#说明)
  - [套路](#套路)
  - [枚举量](#枚举量)
  - [枚举只是int](#枚举只是int)
  - [小总结](#小总结)
- [结构类型](#结构类型)
  - [声明](#声明)
  - [注意点](#注意点)
  - [初始化](#初始化)
  - [调用](#调用)
  - [运算](#运算)
  - [结构指针](#结构指针)


- - -

## 枚举
### 引入  
为了消除***MagicWord***, 我们会将一些字面量定义成**常量**  
> 例如: `const char RED="#ff0000";`  

但是考虑到会有多个同一方面(例如都是颜色)的常量  
我们引入**枚举**这个概念

### 概念
**枚举**是一种用户定义的**数据类型**  
使用关键字 ***enum*** (全称: *enumeration*)

### 语法
声明一个枚举类型  
`enum 枚举类型名字 {名字0, 名字1, ... 名字n}`  
> 这里的"名字"被称为 **枚举量**  

定义一个这种数据类型的变量  
`enum 枚举类型名字 变量名 = 名字i`  
> 可以把这个**枚举类型**看作和***int***一样
> 在其他输入输出方面, 都和***int***一致

### 说明
 + **枚举类型名字**通常不会真的使用, 重要的是大括号中的名字  
 + 大括号中的名字相当于**常量的变量名**
 + 这些常量的类型必须是***int***
 + 初始值依次从`0`到`n`
 + **枚举**的实质就是***int***, ta的意义就是为了方便  

### 套路
由于声明的时候是从`0`开始赋值的  
此时在最后一个名字的后面再加一个名字(一般是`numberofxxx`)  
那么ta的值就是符号的数量  
之后在处理循环的时候会很方便

### 枚举量
声明枚举量的时候可以指定值  
没有被指定, 就接着前面的计数
`enum COLOR {RED = 3, YELLOW, GREEN=7};`  
此时`YELLOW`的值就是`4`

### 枚举只是int
如果给枚举类型的变量赋予 不存在/没有意义的值/其他类型 的值  
不会报错

### 小总结
总而言之, 只有当名字在寓意上连贯有意义的情况  
也就是比起使用多次`const int`方便的时候  
才会选择使用枚举  

## 结构类型
> 要用一个整体表示  
> 一个人的名字, 生日...    
> 时间的年月日...  
> 要使用结构类型  

###  声明
 + 形式1:  
```
struct 结构类型{
    int 结构成员1;
    char 结构成员2;
    double 结构成员3;
};
struct 结构类型 结构变量1, 结构变量2;
```  

 + 形式2:  
```
struct {
    int 结构成员1;
    char 结构成员2;
    double 结构成员3;
}结构变量1, 结构变量2;
```  
> 无名类型, 以后用不到

 + 形式3:  
```
struct 结构类型{
    int 结构成员1;
    char 结构成员2;
    double 结构成员3;
}结构变量1, 结构变量2;
```  


### 注意点
 + 声明结构类型也是一条语句, **最后的分号不能漏**  
 + 在函数的内部声明结构, 出了函数就用不了, 一般在外部声明  
 + *声明结构类型* 和 *声明结构变量* 是两个操作, 在上面的形式1就分开了
 + 单独声明结构变量的时候不能漏了操作符 ***struct***

### 初始化
```
struct 结构类型 结构变量1 = {7, 'Z', 6.4};
struct 结构类型 结构变量2 = {.成员类型1=7, .成员类型3=6.4};
```
在第二种初始化的形式, 成员类型2没有赋予初始值, 会自动赋`0`  

### 调用
`int a = 结构变量1.结构成员1;`
> `.`也是一个运算符, 用来访问结构成员  
> 结构类型是一种类型, 对ta使用`.`没有意义  

### 运算  
对于整个*结构变量*, 可以做 赋值/取地址/作为参数传递 这些操作
```
结构变量1 = (struct point){5, 'b', 9.7};
结构变量2 = 结构变量1;
```

### 结构指针
和数组有所区别, 结构变量的**名字**不是地址  
必须使用`&`运算符取地址